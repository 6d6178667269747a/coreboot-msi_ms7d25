if PAYLOAD_TIANOCORE

config PAYLOAD_FILE
	string "Tianocore binary"
	default "payloads/external/tianocore/tianocore/Build/UEFIPAYLOAD.fd"
	help
	  The result of a UefiPayloadPkg build

choice
	prompt "Tianocore payload"
	default TIANOCORE_UEFIPAYLOAD
	help
	  Select which type of payload Tianocore will build (default is UefiPayload)
	  UefiPayload: MrChromebox's customized fork of Tianocore which works on most
	  x86_64 devices
	  Upstream: Use upstream Tianocore payload from https://github.com/tianocore/edk2

config TIANOCORE_UEFIPAYLOAD
	bool "UEFIPayload"
	help
	  Select this option to build using MrChromebox's custom Tianocore fork,
	  which incorporates fixes/improvements from System 76's and 9elements' trees.

config TIANOCORE_UPSTREAM
	bool "Upstream"
	help
	  Select this option if you want to use upstream EDK2 to build Tianocore.

endchoice

config TIANOCORE_REVISION_ID
	string "Insert a commit's SHA-1 or a branch name"
	help
	   The commit's SHA-1 or branch name of the revision to use. Choose "upstream/master"
	   for master branch of Tianocore release on github.

choice
	prompt "Tianocore build"
	default TIANOCORE_RELEASE
	help
	  Select whether to generate a debug or release build for
	  Tianocore; default is to generate a release build.

config TIANOCORE_DEBUG
	bool "Generate Tianocore debug build"
	help
	  Generate a debug build.

config TIANOCORE_RELEASE
	bool "Generate Tianocore release build"
	help
	  Generate a release build.

endchoice

if TIANOCORE_UEFIPAYLOAD

config TIANOCORE_CBMEM_LOGGING
	bool "Enable Tianocore logging to CBMEM"
	help
	  Select this option if you want to enable Tianocore logging to CBMEM.
	  You may want to increase the default cbmem buffer size when selecting
	  this option, especially if using a debug (vs release) build.
	  Selecting this option will increase the payload size in CBFS by ~220KB.

config TIANOCORE_BOOTSPLASH_IMAGE
	bool "Use a custom bootsplash image"
	help
	  Select this option if you have a bootsplash image that you would
	  like to be used. If this option is not selected, the default
	  coreboot logo (European Brown Hare) will used.

config TIANOCORE_BOOTSPLASH_FILE
	string "Tianocore Bootsplash path and filename"
	depends on TIANOCORE_BOOTSPLASH_IMAGE
	default "bootsplash.bmp"
	help
	  The path and filename of the file to use as graphical bootsplash
	  screen. The file format must be uncompressed BMP, and the file's
	  resolution must be less than the native resolution of the display.

	  If an absolute path is not given, the path will assumed to be
	  relative to the coreboot root directory.

config TIANOCORE_ABOVE_4G_MEMORY
	bool "Enable above 4G memory"
	default n
	help
	  Select this option to enable Above 4G Decode. This will allow the
	  payload to use all of the memory, rather than an maximum of 4G.

	  Disabling this option, which will reserve memory above 4G, is
	  useful for bootloaders that are not fully 64-bit aware such as
	  Qubes R4.0.4 bootloader.

endif

config TIANOCORE_BOOT_TIMEOUT
	int
	default 2
	help
	  The length of time in seconds for which the boot splash/menu prompt will be displayed.
	  For boards with an internal display, the default value of 2s is generally sufficient.
	  For boards without an internal display, a value of 5s is generally sufficient.


config TIANOCORE_ENABLE_IPXE
	bool "Include iPXE in Tianocore payload"
	default y
	help
	  Includes a prebuilt iPXE for EFI to the TianoCore payload.

config TIANOCORE_SECURE_BOOT
	bool "Enable TianoCore Secure Boot"
	depends on SMMSTORE_V2
	default n
	help
	  Enables UEFI Secure Boot image verification in TianoCore Payload.

config TIANOCORE_SATA_PASSWORD
	bool "Enable TianoCore SATA disk password"
	default n
	help
	  Enable SATA disk password suupport in the TianoCore payload.

config TIANOCORE_OPAL_PASSWORD
	bool "Enable TianoCore TCG OPAL password"
	default n
	help
	  Enables TCG OPAL disk password in the TianoCore Payload.

config TIANOCORE_BOOT_MENU_KEY
	hex "TianoCore boot menu key"
	default 0x0016
	help
	  Select the TianoCore payload boot menu key:
	  UP         0x0001
	  DOWN       0x0002
	  RIGHT      0x0003
	  LEFT       0x0004
	  HOME       0x0005
	  END        0x0006
	  INSERT     0x0007
	  DELETE     0x0008
	  F1         0x000B
	  F2         0x000C
	  F3         0x000D
	  F4         0x000E
	  F5         0x000F
	  F6         0x0010
	  F7         0x0011
	  F8         0x0012
	  F9         0x0013
	  F10        0x0014
	  F11        0x0015
	  F12        0x0016
	  ESC        0x0017

config TIANOCORE_SETUP_MENU_KEY
	hex "TianoCore setup menu key"
	default 0x0017
	help
	  Select the TianoCore payload setup menu key:
	  UP         0x0001
	  DOWN       0x0002
	  RIGHT      0x0003
	  LEFT       0x0004
	  HOME       0x0005
	  END        0x0006
	  INSERT     0x0007
	  DELETE     0x0008
	  F1         0x000B
	  F2         0x000C
	  F3         0x000D
	  F4         0x000E
	  F5         0x000F
	  F6         0x0010
	  F7         0x0011
	  F8         0x0012
	  F9         0x0013
	  F10        0x0014
	  F11        0x0015
	  F12        0x0016
	  ESC        0x0017

endif
